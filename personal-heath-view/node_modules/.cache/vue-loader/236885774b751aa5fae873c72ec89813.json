{"remainingRequest":"D:\\JavaE\\personal-heath-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaE\\personal-heath-view\\src\\views\\admin\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaE\\personal-heath-view\\src\\views\\admin\\Main.vue","mtime":1735268271201},{"path":"D:\\JavaE\\personal-heath-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaE\\personal-heath-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JavaE\\personal-heath-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaE\\personal-heath-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTGluZUNoYXJ0IGZyb20gIkAvY29tcG9uZW50cy9MaW5lQ2hhcnQiDQppbXBvcnQgUGllQ2hhcnQgZnJvbSAiQC9jb21wb25lbnRzL1BpZUNoYXJ0Ig0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGNvbXBvbmVudHM6IHsgTGluZUNoYXJ0LCBQaWVDaGFydCB9LA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICB1c2VyVmFsdWVzOiBbXSwNCiAgICAgICAgICAgIHVzZXJEYXRlczogW10sDQogICAgICAgICAgICBtb2RlbERhdGVzOiBbXSwNCiAgICAgICAgICAgIG1vZGVsVmFsdWVzOiBbXSwNCiAgICAgICAgICAgIHBpZVZhbHVlczogW10sDQogICAgICAgICAgICBwaWVUeXBlczogW10sDQogICAgICAgICAgICBtZXNzYWdlTGlzdDogW10NCiAgICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgICAgLy8g6buY6K6k5p+lN+WkqQ0KICAgICAgICB0aGlzLnVzZXJEYXRlc1NlbGVjdGVkKDcpOw0KICAgICAgICAvLyDpu5jorqTmn6U35aSpDQogICAgICAgIHRoaXMubW9kZWxEYXRlc1NlbGVjdGVkKDcpOw0KICAgICAgICB0aGlzLmxvYWRQaWVDaGFydHMoKTsNCiAgICAgICAgdGhpcy5sb2FkTWVzc2FnZSgpOw0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICAvLyDliqDovb3mtojmga/mlbDmja4NCiAgICAgICAgbG9hZE1lc3NhZ2UoKSB7DQogICAgICAgICAgICBjb25zdCBtZXNzYWdlUXVlcnlEdG8gPSB7DQogICAgICAgICAgICAgICAgY3VycmVudDogMSwNCiAgICAgICAgICAgICAgICBzaXplOiA0DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KGAvbWVzc2FnZS9xdWVyeWAsIG1lc3NhZ2VRdWVyeUR0bykudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXNwb25zZTsNCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlTGlzdCA9IGRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBsb2FkUGllQ2hhcnRzKCkgew0KICAgICAgICAgICAgdGhpcy4kYXhpb3MuZ2V0KGAvdmlld3Mvc3RhdGljQ29udHJvbHNgKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnBpZVZhbHVlcyA9IGRhdGEuZGF0YS5tYXAoZW50aXR5ID0+IGVudGl0eS5jb3VudCk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMucGllVHlwZXMgPSBkYXRhLmRhdGEubWFwKGVudGl0eSA9PiBlbnRpdHkubmFtZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgbW9kZWxEYXRlc1NlbGVjdGVkKHRpbWUpIHsNCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLmdldChgL3VzZXItaGVhbHRoL2RheXNRdWVyeS8ke3RpbWV9YCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXNwb25zZTsNCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbFZhbHVlcyA9IGRhdGEuZGF0YS5tYXAoZW50aXR5ID0+IGVudGl0eS5jb3VudCk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWxEYXRlcyA9IGRhdGEuZGF0YS5tYXAoZW50aXR5ID0+IGVudGl0eS5uYW1lKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICB1c2VyRGF0ZXNTZWxlY3RlZCh0aW1lKSB7DQogICAgICAgICAgICB0aGlzLiRheGlvcy5nZXQoYC91c2VyL2RheXNRdWVyeS8ke3RpbWV9YCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXNwb25zZTsNCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyVmFsdWVzID0gZGF0YS5kYXRhLm1hcChlbnRpdHkgPT4gZW50aXR5LmNvdW50KTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyRGF0ZXMgPSBkYXRhLmRhdGEubWFwKGVudGl0eSA9PiBlbnRpdHkubmFtZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICB9LA0KfTsNCg=="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n    <div style=\"padding: 10px;\">\r\n        <el-row>\r\n            <el-col :span=\"16\">\r\n                <div style=\"padding: 10px 20px;box-sizing: border-box;\">\r\n                    <LineChart height=\"370px\" tag=\"用户存量数据\" @on-selected=\"userDatesSelected\" :values=\"userValues\"\r\n                        :date=\"userDates\" />\r\n                </div>\r\n                <!-- <div style=\"padding: 10px 20px;box-sizing: border-box;\">\r\n                    <LineChart height=\"370px\" tag=\"用户健康记录数据\" @on-selected=\"modelDatesSelected\" :values=\"modelValues\"\r\n                        :date=\"modelDates\" />\r\n                </div> -->\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n                <!-- <div style=\"padding: 10px 20px;box-sizing: border-box;\">\r\n                    <PieChart fontColor=\"#fff\" bag=\"#2f90b9\" tag=\"系统基础数据\" :values=\"pieValues\" :types=\"pieTypes\" />\r\n                </div> -->\r\n                <!-- <div style=\"padding: 10px 20px;box-sizing: border-box;\">\r\n                    <h3>最新消息</h3>\r\n                    <div style=\"margin-bottom: 10px;\" v-for=\"(message, index) in messageList\" :key=\"index\">\r\n                        <div>\r\n                            <span class=\"status-success\" v-if=\"message.messageType === 1\">评论回复</span>\r\n                        <span class=\"status-success\" v-else-if=\"message.messageType === 2\">评论点赞</span>\r\n                        <span class=\"status-success\" v-else-if=\"message.messageType === 3\">指标提醒</span>\r\n                        <span class=\"status-success\" v-else>系统通知</span>\r\n                        </div>\r\n                        <div style=\"margin: 5px 0;\">\r\n                            <span style=\"font-size: 14px;\">{{ message.content }}</span>\r\n                        </div>\r\n                        <div>\r\n                            <span style=\"font-size: 14px;\">{{ message.createTime }}</span>\r\n                        </div>\r\n                    </div>\r\n                </div> -->\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n<script>\r\nimport LineChart from \"@/components/LineChart\"\r\nimport PieChart from \"@/components/PieChart\"\r\nexport default {\r\n    components: { LineChart, PieChart },\r\n    data() {\r\n        return {\r\n            userValues: [],\r\n            userDates: [],\r\n            modelDates: [],\r\n            modelValues: [],\r\n            pieValues: [],\r\n            pieTypes: [],\r\n            messageList: []\r\n        }\r\n    },\r\n    created() {\r\n        // 默认查7天\r\n        this.userDatesSelected(7);\r\n        // 默认查7天\r\n        this.modelDatesSelected(7);\r\n        this.loadPieCharts();\r\n        this.loadMessage();\r\n    },\r\n    methods: {\r\n        // 加载消息数据\r\n        loadMessage() {\r\n            const messageQueryDto = {\r\n                current: 1,\r\n                size: 4\r\n            }\r\n            this.$axios.post(`/message/query`, messageQueryDto).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.messageList = data.data;\r\n                }\r\n            })\r\n        },\r\n        loadPieCharts() {\r\n            this.$axios.get(`/views/staticControls`).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.pieValues = data.data.map(entity => entity.count);\r\n                    this.pieTypes = data.data.map(entity => entity.name);\r\n                }\r\n            })\r\n        },\r\n        modelDatesSelected(time) {\r\n            this.$axios.get(`/user-health/daysQuery/${time}`).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.modelValues = data.data.map(entity => entity.count);\r\n                    this.modelDates = data.data.map(entity => entity.name);\r\n                }\r\n            })\r\n        },\r\n        userDatesSelected(time) {\r\n            this.$axios.get(`/user/daysQuery/${time}`).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.userValues = data.data.map(entity => entity.count);\r\n                    this.userDates = data.data.map(entity => entity.name);\r\n                }\r\n            })\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.status-success {\r\n    display: inline-block;\r\n    padding: 1px 5px;\r\n    border-radius: 2px;\r\n    background-color: rgb(201, 237, 249);\r\n    color: rgb(111, 106, 196);\r\n    font-size: 12px;\r\n}\r\n\r\n.status-error {\r\n    display: inline-block;\r\n    padding: 1px 5px;\r\n    border-radius: 2px;\r\n    background-color: rgb(233, 226, 134);\r\n    color: rgb(131, 138, 142);\r\n    color: rgb(111, 106, 196);\r\n    font-size: 12px;\r\n}\r\n</style>"]}]}